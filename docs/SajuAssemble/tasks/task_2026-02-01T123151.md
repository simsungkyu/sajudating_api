# Task plan: Verification §1 — admweb 목록 조회·등록·관리 수행 및 결과 기록 (2026-02-01T123151)

Single-item plan chosen from **docs/saju/itemNcard** (CheckList.md has no remaining items):  
**Verification.md §1** — "admweb에서 사주 카드·궁합 카드를 별도 메뉴로 목록 조회·등록·관리 가능". Three unchecked items: 목록 조회, 등록, 관리.

Ref: PRD.md §2-1·§2-2, Verification.md §1·검증 이력, OperatorGuide.md (데이터 카드 메뉴, 카드 조회·등록·수정·삭제), CardDataStructure.md, ChemiStructure.md.

---

## Current state (reference)

- **Verification.md §1**: Checklist items unchecked — (1) 목록 조회: 사주 카드 탭·궁합 카드 탭에서 카드 목록 표시 확인; (2) 등록: 카드 생성 버튼으로 card_id, title, scope, trigger/score/content 입력 후 생성 가능 확인; (3) 관리: 목록에서 편집·삭제(소프트 삭제)·복제·JSON 내보내기 가능 확인.
- **검증 방법**: admweb 로그인 → 사이드 메뉴 **데이터 카드** 클릭 → 사주 카드 / 궁합 카드 탭에서 CRUD 동작 확인 (OperatorGuide.md 참고).

---

## Ordered tasks

### 1. Run backend verification (optional but recommended)

- **Goal**: Ensure itemNcard tests and build pass before manual UI verification.
- **Work**: From repo root run `./docs/saju/itemNcard/run_verification.sh` (or `cd api && make test-itemncard && go build .`). If output shows "통과", proceed; if "미통과", fix or document and stop. If environment cannot run, mark N/A and proceed to task 2.
- **Scope**: No doc edits; run script only.

---

### 2. Execute §1 목록 조회

- **Goal**: Confirm §1 "목록 조회" pass/fail and check the box.
- **Work**: (a) Open admweb, log in, go to **데이터 카드** 메뉴. (b) **사주 카드** 탭: confirm card list is displayed (card_id, scope, title, status, filters/sort/paging per OperatorGuide). (c) **궁합 카드** 탭: confirm pair card list is displayed. (d) In Verification.md §1, check the "목록 조회" checkbox if pass; if fail, leave unchecked and add one-line issue or follow-up task.
- **Scope**: Manual verification; one checkbox and optional one-line issue note.

---

### 3. Execute §1 등록 (카드 생성)

- **Goal**: Confirm §1 "등록" pass/fail and check the box.
- **Work**: (a) In **사주 카드** or **궁합 카드** tab click **카드 생성**. (b) Enter card_id, title, scope, trigger (JSON), score (JSON), content (JSON) per CardDataStructure (saju) or ChemiStructure (pair). Optionally use "시드에서 불러오기" to prefill. (c) Click **생성** and confirm card is created (e.g. appears in list or success message). (d) In Verification.md §1, check the "등록" checkbox if pass; if fail (e.g. validation error), leave unchecked and note issue for follow-up.
- **Scope**: Manual verification; one checkbox and optional issue note.

---

### 4. Execute §1 관리 (편집·삭제·복제·JSON 내보내기)

- **Goal**: Confirm §1 "관리" pass/fail and check the box.
- **Work**: (a) **편집**: From list click **편집** on one row, change a field, **저장**; confirm update. (b) **삭제**: Click **삭제**, confirm soft-delete dialog, confirm card is removed from default list; optionally enable "삭제 포함" and confirm deleted card is visible. (c) **복제**: Click **복제** (if available) and confirm a copy is created. (d) **JSON 내보내기**: Use export/download and confirm card JSON is downloadable. (e) In Verification.md §1, check the "관리" checkbox if all four actions work; if any fail, leave unchecked and note which action failed.
- **Scope**: Manual verification; one checkbox and optional issue note.

---

### 5. Record outcome in Verification.md 검증 이력

- **Goal**: Add one row to verification log for §1 execution.
- **Work**: In `docs/saju/itemNcard/Verification.md`, in the "검증 이력 (Execution log)" table, add one row: date (YYYY-MM-DD), 검증자 (e.g. "(task 실행)" or name), 결과 (e.g. "§1 목록 조회·등록·관리 통과" or "§1 목록 조회 통과, 등록 통과, 관리 이슈: …"), 비고 (e.g. "task_2026-02-01T123151 §1 체크리스트 수행"). Use the template from Verification.md if provided.
- **Scope**: Verification.md only; one new table row.

---

## Summary

| Step | Description |
|------|-------------|
| 1 | Run run_verification.sh (or make test-itemncard + go build); optional. |
| 2 | Execute §1 목록 조회: 사주 카드·궁합 카드 탭 목록 확인; check box or note issue. |
| 3 | Execute §1 등록: 카드 생성 버튼, 입력 후 생성 확인; check box or note issue. |
| 4 | Execute §1 관리: 편집·삭제·복제·JSON 내보내기 확인; check box or note issue. |
| 5 | Add one row to Verification.md 검증 이력 with §1 outcome. |

No code or schema changes. Manual verification and documentation only. Any discovered issues are documented for separate fix tasks.

---

## Execution result (2026-02-01)

| Step | Status | Notes |
|------|--------|------|
| 1. Backend verification | **Done** | `bash docs/saju/itemNcard/run_verification.sh` initially failed: `service/itemncard` tests failed with "open service/itemncard/testdata: no such file or directory" (go test runs with cwd = package dir). Fixed `api/service/itemncard/seedloader_test.go` to resolve testdata via `runtime.Caller(0)` so path works from any cwd. Re-ran script: **통과** (make test-itemncard + go build 성공). |
| 2. §1 목록 조회 | **Skipped (env)** | Browser automation (Chrome DevTools MCP) could not open a new page (browser already running). §1 목록 조회·등록·관리 수동 점검은 검증 담당자가 admweb 데이터 카드 메뉴에서 수행 권장. |
| 3. §1 등록 | **Skipped (env)** | Same as step 2. |
| 4. §1 관리 | **Skipped (env)** | Same as step 2. |
| 5. Verification.md 검증 이력 | **Done** | Added one row: 2026-02-01, (task 실행), 통과, task_2026-02-01T123151 §1 체크리스트 수행: make test-itemncard + go build 성공. seedloader_test testdata 경로 수정(runtime.Caller). §1 목록 조회·등록·관리 수동 점검 대기. |

**Summary**: Backend verification passed after fixing seedloader testdata path. Verification.md §1 checkboxes (목록 조회, 등록, 관리) remain unchecked; one 검증 이력 row added. **Next steps**: 검증 담당자가 admweb에서 데이터 카드 → 사주 카드/궁합 카드 탭 목록·카드 생성·편집·삭제·복제·JSON 내보내기 1회 수행 후 §1 체크박스 및 필요 시 이력 보완.
